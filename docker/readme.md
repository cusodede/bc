# Докеризация проекта

## Краткое описание
Перед запуском сборки контейнеров, необходимо скопировать .env.example в .env, откорректировав параметры, если необходимо.
В файле .env определяются переменные окружения, часть которых необходимо для конфигурации docker-compose, а часть для проброса внутрь контейнеров.
После можно приступать к сборке контейнеров. Если сборка прошла успешно, то следующим действием нужно установить зависимости и выполнить миграции.
Это можно сделать либо в ручном режиме, либо в автоматическом.
В первом случае нужно выполнить команду для входа внутрь контейнера с приложением.
Во втором случае нужно выполнить команду из Makefile `make setup`, либо `composer setup` если выполняется сборка из под системы windows.
Если сборка не прошла, то для понимания причины прерывания процесса, можно проанализировать логи докер контейнера. 

## Команды для UNIX подобных систем

### Сборка контейнеров
~~~
make build
~~~
### Вход в контейнер
~~~
make exec s=<название контейнера>
~~~
### Запуск скрипта для установки зависимостей и выполнения миграций
~~~
make setup
~~~
### Проверить запущенные контейнеры
~~~
docker ps
~~~
### Посмотреть установленные образы
~~~
docker images
~~~
### Посмотреть логи контейнера
~~~
docker logs <имя контейнера>
~~~

## Команды для Windows систем

### Сборка контейнеров
~~~
composer build
~~~
### Запуск контейнеров
~~~
composer up
~~~
### Остановка контейнеров
~~~
composer stop
~~~
### Перезапуск контейнеров
~~~
composer restart
~~~
### Вход в контейнер
~~~
composer exec s=<название контейнера>
~~~
### Запуск скрипта для установки зависимостей и выполнения миграций
~~~
composer setup
~~~